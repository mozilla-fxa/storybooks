fix(settings): improve GQL error handling to avoid redirect loop
